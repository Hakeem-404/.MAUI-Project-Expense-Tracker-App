<?xml version="1.0" encoding="utf-8" ?>
<ContentPage 
    x:Class="ExpenseMauiApp.Views.AddExpensePage"
    xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
    xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
    Title="{Binding PageTitle}">

    <ContentPage.Resources>
        <Style TargetType="Entry">
            <Setter Property="Margin" Value="0,5,0,15" />
        </Style>
        <Style TargetType="Picker">
            <Setter Property="Margin" Value="0,5,0,15" />
        </Style>
        <Style TargetType="DatePicker">
            <Setter Property="Margin" Value="0,5,0,15" />
        </Style>
        <Style TargetType="Label" x:Key="FieldLabel">
            <Setter Property="FontAttributes" Value="Bold" />
            <Setter Property="TextColor" Value="#555555" />
        </Style>
        <Style TargetType="Frame">
            <Setter Property="BorderColor" Value="#DDDDDD" />
            <Setter Property="Padding" Value="15" />
            <Setter Property="Margin" Value="0,0,0,15" />
            <Setter Property="CornerRadius" Value="10" />
        </Style>
    </ContentPage.Resources>

    <ScrollView>
        <VerticalStackLayout Padding="20">
            <!-- Basic Information -->
            <Frame>
                <VerticalStackLayout>
                    <Label Text="Basic Information" FontSize="16" FontAttributes="Bold" Margin="0,0,0,10" />
                    
                    <Label Text="Expense Type *" Style="{StaticResource FieldLabel}" />
                    <Picker x:Name="pickerExpenseType">
                        <Picker.Items>
                            <x:String>Travel</x:String>
                            <x:String>Equipment</x:String>
                            <x:String>Materials</x:String>
                            <x:String>Services</x:String>
                            <x:String>Software/Licence</x:String>
                            <x:String>Labour costs</x:String>
                            <x:String>Utilities</x:String>
                            <x:String>Miscellaneous</x:String>
                        </Picker.Items>
                    </Picker>
                    
                    <Label Text="Expense ID *" Style="{StaticResource FieldLabel}" />
                    <Entry x:Name="entryExpenseID" Placeholder="Enter expense ID" />
                    
                    <Label Text="Claimant *" Style="{StaticResource FieldLabel}" />
                    <Entry x:Name="entryClaimant" Placeholder="Enter claimant name" />
                </VerticalStackLayout>
            </Frame>
            
            <!-- Financial Information -->
            <Frame>
                <VerticalStackLayout>
                    <Label Text="Financial Information" FontSize="16" FontAttributes="Bold" Margin="0,0,0,10" />
                    
                    <Label Text="Amount *" Style="{StaticResource FieldLabel}" />
                    <Entry x:Name="entryAmount" Placeholder="Enter amount" Keyboard="Numeric" />
                    
                    <Label Text="Currency *" Style="{StaticResource FieldLabel}" />
                    <Picker x:Name="pickerCurrency">
                        <Picker.Items>
                            <x:String>Dollars ($)</x:String>
                            <x:String>Pound Sterling (£)</x:String>
                            <x:String>Euros (€)</x:String>
                            <x:String>Yen (¥)</x:String>
                            <x:String>Naira (N)</x:String>
                            <x:String>Rupees (₹)</x:String>
                            <x:String>Francs (₣)</x:String>
                            <x:String>Cedes (C)</x:String>
                            <x:String>Rand (R)</x:String>
                        </Picker.Items>
                    </Picker>
                    
                    <Label Text="Payment Method *" Style="{StaticResource FieldLabel}" />
                    <Picker x:Name="pickerPaymentMethod">
                        <Picker.Items>
                            <x:String>Cash</x:String>
                            <x:String>Credit Card</x:String>
                            <x:String>Bank Transfer</x:String>
                            <x:String>Cheque</x:String>
                        </Picker.Items>
                    </Picker>
                    
                    <Label Text="Payment Status *" Style="{StaticResource FieldLabel}" />
                    <Picker x:Name="pickerPaymentStatus">
                        <Picker.Items>
                            <x:String>Pending</x:String>
                            <x:String>Paid</x:String>
                            <x:String>Reimbursed</x:String>
                        </Picker.Items>
                    </Picker>
                </VerticalStackLayout>
            </Frame>
            
            <!-- Date Information -->
            <Frame>
                <VerticalStackLayout>
                    <Label Text="Date Information" FontSize="16" FontAttributes="Bold" Margin="0,0,0,10" />
                    
                    <Label Text="Expense Date *" Style="{StaticResource FieldLabel}" />
                    <DatePicker x:Name="datePickerExpenseDate" Format="dd/MM/yyyy" />
                </VerticalStackLayout>
            </Frame>
            
            <!-- Additional Information -->
            <Frame>
                <VerticalStackLayout>
                    <Label Text="Additional Information" FontSize="16" FontAttributes="Bold" Margin="0,0,0,10" />
                    
                    <Label Text="Description" Style="{StaticResource FieldLabel}" />
                    <Editor x:Name="editorDescription" Placeholder="Enter description" HeightRequest="100" />
                    
                    <Label Text="Location" Style="{StaticResource FieldLabel}" Margin="0,10,0,5" />
                    <Editor x:Name="editorLocation" Placeholder="Enter location" HeightRequest="100" />
                </VerticalStackLayout>
            </Frame>
            
            <!-- Buttons -->
            <Grid ColumnSpacing="10" Margin="0,10,0,20">
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="*" />
                    <ColumnDefinition Width="*" />
                </Grid.ColumnDefinitions>
                
                <Button Grid.Column="0" Text="Cancel" 
                        BackgroundColor="#9E9E9E" TextColor="White" 
                        Clicked="OnCancelClicked" />
                
                <Button Grid.Column="1" Text="Save" 
                        BackgroundColor="#4CAF50" TextColor="White" 
                        Clicked="OnSaveExpenseClicked" />
            </Grid>
            
            <!-- Delete Button - only visible for editing existing expenses -->
            <Button x:Name="btnDelete" Text="Delete Expense" 
                    IsVisible="False"
                    BackgroundColor="#F44336" TextColor="White" 
                    Clicked="OnDeleteExpenseClicked" />
                    
            <Label Text="* Required fields" FontSize="12" TextColor="#757575" 
                   HorizontalOptions="Center" Margin="0,20,0,0" />
        </VerticalStackLayout>
    </ScrollView>
</ContentPage>